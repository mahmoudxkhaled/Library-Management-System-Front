<div class="card">
    <p-toast></p-toast>
    <h5>Trending Books</h5>
    <p-dataView #dv [value]="trendingBooks" [paginator]="true" [rows]="10" layout="grid">
        <ng-template pTemplate="header">
            <div class="flex flex-column md:flex-row md:justify-content-between gap-2">
                <p>Books sorted by most borrowed</p>
            </div>
        </ng-template>
        <ng-template let-trendingBooks pTemplate="gridItem">
            <div class="iAware-loading-table-container" style="position: relative">
                <app-table-loading-spinner *ngIf="tableLoadingSpinner"></app-table-loading-spinner>
                <div class="grid grid-nogutter">
                    <div class="col-12 md:col-4" *ngFor="let trendingBook of trendingBooks">
                        <div class="p-3">
                            <div
                                class="surface-card shadow-3 border-round overflow-hidden hover:shadow-5 transition-all relative">
                                <!-- Three Dots Button -->
                                <button pButton pRipple type="button" icon="pi pi-ellipsis-v"
                                    class="p-button-rounded p-button-text p-button-plain absolute top-0 right-0 m-2 bg-gray-200 shadow-lg border border-gray-300"
                                    (click)="iAwareMenu.toggle($event); assignCurrentSelect(trendingBook)">
                                </button>

                                <!-- Menus -->
                                <p-menu #iAwareMenu [model]="menuItems" [appendTo]="'body'" [popup]="true"></p-menu>

                                <!-- Trending Book Details -->
                                <div class="text-center mt-3">
                                    <h4 class="font-semibold text-xl">Book ID: {{ trendingBook.bookId }}</h4>
                                </div>

                                <div class="text-center mt-2 mb-3">
                                    <p class="text-md text-gray-700">
                                        <span style="font-weight: bold;">Borrow Count:</span> {{
                                        trendingBook.borrowCount }}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </ng-template>
    </p-dataView>
</div>